---
layout: guide
title: Руководство пользователя
maplang: ru
---

Это карта. Она ведёт себя, как любая другая карта в интернете: её можно перетаскивать, масштабировать кнопками «+» и «-», выбирать слои кнопкой справа вверху. На карте могут быть маркеры, которые по клику открывают панели с подписью, и другие геометрические фигуры, которые ничего не делают.

<div id="view"></div>

Работа с картой сделана максимально удобной. Кнопка с четырьмя стрелочками справа увеличивает размер панели, чтобы вы могли рассмотреть карту. Короткие подписи маркеров не спрятаны под клик. Ссылка «OSM» в строке источников справа внизу открывает [сайт OpenStreetMap](http://openstreetmap.org) прямо в отображаемом месте. Данные внешней карты можно скачать как треки и точки кнопкой «Скачать», либо открыть внешнюю карту на [MapBBCode Share](http://share.mapbbcode.org) кнопкой со стрелочкой справа.

Перемещать и масштабировать карту можно по-разному. Нажмите на кнопку масштабирования с зажатым Shift, чтобы изменить масштаб сразу трижды. Ткните в карту, и менять масштаб можно будет колесиком мыши, а двигать карту — стрелками на клавиатуре. Выделив с зажатым Shift прямоугольник на карте, вы мгновенно его приблизите.

## Секунду, что такое MapBBCode?

Обычная строка, как bb-код `[url]...[/url]`, только с описанием геопривязанных объектов: подписанных точек, маршрутов, областей. Как и картинка, карта иллюстрирует дискуссию, заменяя длинное описание местоположения. Выглядит bb-код так:

    [map]59.939,30.3159(Dvortsovaya); 59.9371,30.3127 59.9312,30.3602(black|);
    59.9458,30.3324 59.939,30.3369 59.9341,30.335 59.9226,30.3078[/map]

Хотя он кажется сложным ([формат кода здесь](bbcode.html)), едва ли вы столкнётесь с ним напрямую: подобно тому, как `[url]` превращается в ссылку, плагин MapBBCode делает из `[map]` интерактивную карту. Не потребуется вводить числа руками: плагин предоставляет и редактор кода.

## Как нарисовать карту?

Поищите кнопку для вставки где-то рядом с кнопкой «вставить рисунок». На ней может быть нарисован маленький маркер, либо написано <input type="button" value="Map" id="mapedit"/>. Кнопка откроет окно редактора карты. Обратите внимание на положение курсора в поле редактирования сообщения: если он внутри кода карты, то вы будете его редактировать, иначе редактор откроется для создания новой карты.

В окне редактора кнопок побольше. Во-первых, «Вставить код» и «Отменить»: не забудьте нажать первую, когда завершите редактирование. Кнопка **?** открывает окно справки (в котором мог бы быть этот текст, но он слишком сложен для того окна), a кнопка с лупой — поле поиска, где ввод любого названия телепортирует вас к нужному месту на карте.

Чтобы добавить объект на карту, нажмите на одну из трёх маленьких кнопок слева. Последняя добавит маркер: просто щёлкните на карту и введите подпись. После установки маркер можно таскать по карте, а щёлкнув по нему, вы получите панель, из которой маркер можно переименовать или удалить. Не бойтесь нажимать на разные элементы интерфейса: вы ничего не сломаете (и есть кнопка «Отменить»), но можете узнать что-то новое.

Нарисовать линию или многоугольник просто: каждый ваш шаг будут сопровождать подсказки. Закончив рисование объекта, вы получите линию (обычно синего цвета) и набор квадратных регуляторов. Потяните за любой из последних, чтобы изменить форму объекта (перетягивание полупрозрачного регулятора добавит узел в его позиции), щёлчок по ним удалит соответствующий узел. Если щёлкнуть на самом объекте вдали от регуляторов, откроется панель, как для маркеров, но с другими атрибутами. Из панели можно удалить объект и, обычно, изменить его цвет.

Администратор может устанавливать расширения для библиотеки MapBBCode. Часть из них добавляет атрибуты к объектам, например, выбор ширины линий. Другие выводят дополнительные сведения: так, расширение length выводит суммарную длину всех линий на карте, а если навести курсор на одну из них, отобразится длина конкретной линии.

Не пытайтесь запомнить всё написанное, пробуйте всё на примере ниже (либо в редакторе под кнопкой «Map» выше, либо на [главной странице](index.html)). Вы ничего не сломаете, и даже если сможете, просто перезагрузите страницу. Поскольку библиотека MapBBCode построена из открытых компонентов, вы наверняка встретите подобные элементы управления на других сайтах.

<div id="edit"></div>

## Что за кнопка «на сервер»?

Вам стоит знать о сервисе [MapBBCode Share](http://share.mapbbcode.org). Он сделан с использованием MapBBCode (поэтому это руководство применимо и к нему), и позволяет делиться картами в интернете. Всё, что там нарисовано, может быть вставлено в страницу: собственно, первая карта в этом руководстве взята оттуда, и вы увидите исходную карту, если нажмёте на кнопку со стрелкой в её правом верхнем углу.

У внешних карт есть несколько преимуществ перед обычными:

1. Кнопка «Скачать» для скачивания карты во множестве форматов, включая GPX и CSV.
2. Одну и ту же карту можно разместить на разных сайтах.
3. Когда карта изменена в MapBBCode Share, она автоматически обновляется везде, куда вставлена.
4. Разослав ссылку на редактирование карты, вы можете рисовать её совместно с друзьями.

Если после рисования карты вы нажмёте не «Вставить код», а «На сервер», карта будет загружена, вы получите ссылку на редактирование (откройте её в новом окне!), и полученный код окажется коротким: `[mapid]abcde[/mapid]`, где `abcde` — уникальный идентификатор карты на сервере. Постарайтесь не потерять ссылку на редактирование, иначе придётся копировать карту и заменять идентификатор в своих сообщениях.

Чтобы вставить уже готовую внешнюю карту, нажмите кнопку «На сервер», ничего не рисуя. Появится поле ввода, куда нужно вставить ссылку на просмотр внешней карты. Если она будет правильна, в сообщение будет вставлен код. Конечно, вы можете написать код `[mapid]` и от руки.

Остались вопросы? Посмотрите [страницу ответов](faq.html).

{% include viewedit.html %}
